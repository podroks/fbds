msg="$(head -n1 "$1")"

# Regex Bash : Gitmoji + espace + [branch] + espace + message
rx='^([[:space:]]*[\x{1F300}-\x{1F6FF}\x{2700}-\x{27BF}].*) \[[^]]+\] .+'

if ! echo "$msg" | grep -Pq "$rx"; then
  echo "ðŸš« Commit message invalide !"
  echo "Format attendu : <gitmoji> [branch-name] message"
  echo "Exemple : ðŸš€ [feature/login] Add login page"
  exit 1
fi